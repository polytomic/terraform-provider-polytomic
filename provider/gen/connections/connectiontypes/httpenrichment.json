{"$id":"https://github.com/polytomic/app/services/polytomic/backend/httpenrichment/connection-conf","$schema":"https://json-schema.org/draft/2020-12/schema","properties":{"auth":{"additionalProperties":false,"properties":{"basic":{"additionalProperties":false,"properties":{"password":{"examples":["secret"],"title":"Password","type":"string"},"username":{"examples":["user@example.com"],"title":"Username","type":"string"}},"title":"Basic authentication","type":"object"},"header":{"additionalProperties":false,"properties":{"name":{"examples":["foo"],"title":"Name","type":"string"},"value":{"title":"Value"}},"title":"Header key","type":"object"},"oauth":{"additionalProperties":false,"properties":{"auth_style":{"title":"Auth style","type":"integer"},"client_id":{"examples":["client_id"],"title":"Client ID","type":"string"},"client_secret":{"examples":["client_secret"],"title":"Client secret","type":"string"},"extra_form_data":{"items":{"additionalProperties":false,"properties":{"name":{"examples":["foo"],"title":"Name","type":"string"},"value":{"title":"Value"}},"type":"object"},"title":"Extra form data","type":"array"},"scopes":{"items":{"type":"string"},"title":"Scopes","type":"array"},"token_endpoint":{"examples":["https://example.com/oauth/token"],"title":"Token endpoint","type":"string"}},"title":"OAuth","type":"object"}},"title":"Authentication method","type":"object"},"body":{"examples":["{\"key\":\"value\"}"],"format":"json","title":"JSON payload","type":"string"},"fields":{"description":"List of fields to be returned by the enrichment","items":{"additionalProperties":false,"properties":{"name":{"description":"Name of the field","title":"Name","type":"string"},"path":{"description":"JSONPath expression to extract the field from the response","title":"Path","type":"string"},"type":{"description":"Type of the field","title":"Type","type":"string"}},"type":"object"},"title":"Fields","type":"array"},"headers":{"items":{"additionalProperties":false,"properties":{"name":{"examples":["foo"],"title":"Name","type":"string"},"value":{"title":"Value"}},"type":"object"},"title":"Headers","type":"array"},"healthcheck":{"description":"Path to request when checking the health of this connection. No health check will be performed if left empty.","examples":["https://example.com/healthz"],"title":"Health check endpoint","type":"string"},"inputMappings":{"description":"List of input mappings to be used in the query. Each mapping should be a valid JSONPath expression.","items":{"additionalProperties":false,"properties":{"name":{"description":"Name of the input mapping","title":"Name","type":"string"},"required":{"description":"Whether the input mapping is required","title":"Required","type":"boolean"},"type":{"description":"Type of the input mapping","title":"Type","type":"string"}},"type":"object"},"title":"Input mappings","type":"array"},"method":{"enum":["GET","POST"],"title":"HTTP Method","type":"string"},"parameters":{"items":{"additionalProperties":false,"properties":{"name":{"examples":["foo"],"title":"Name","type":"string"},"value":{"title":"Value"}},"type":"object"},"title":"Query string parameters","type":"array"},"url":{"examples":["https://example.com"],"title":"Base URL","type":"string"}},"required":["url"],"type":"object"}
